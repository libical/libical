/*======================================================================
 FILE: vcardderivedvalue.h

======================================================================*/

#ifndef VCARDDERIVEDVALUE_H
#define VCARDDERIVEDVALUE_H

#include "libical_vcard_export.h"

#include "vcardstrarray.h"
#include "vcardtime.h"

typedef enum vcard_n_field {
    VCARD_N_FAMILY = 0,
    VCARD_N_GIVEN,
    VCARD_N_ADDITIONAL,
    VCARD_N_HONORIFIC_PREFIX,
    VCARD_N_HONORIFIC_SUFFIX,
    VCARD_NUM_N_FIELDS
} vcard_n_field;

typedef enum vcard_gender_field {
    VCARD_GENDER_SEX = 0,
    VCARD_GENDER_TEXT,
    VCARD_NUM_GENDER_FIELDS
} vcard_gender_field;

typedef enum vcard_adr_field {
    VCARD_ADR_PO_BOX = 0,
    VCARD_ADR_EXTENDED,
    VCARD_ADR_STREET,
    VCARD_ADR_LOCALITY,
    VCARD_ADR_REGION,
    VCARD_ADR_POSTAL_CODE,
    VCARD_ADR_COUNTRY,
    VCARD_NUM_ADR_FIELDS
} vcard_adr_field;

typedef enum vcard_clientpidmap_field {
    VCARD_CLIENTPIDMAP_ID = 0,
    VCARD_CLIENTPIDMAP_URI,
    VCARD_NUM_CLIENTPIDMAP_FIELDS
} vcard_clientidmap_field;
 
#define VCARD_MAX_STRUCTURED_FIELDS VCARD_NUM_ADR_FIELDS

typedef struct vcardstructuredtype {
    unsigned num_fields;
    vcardstrarray *field[VCARD_MAX_STRUCTURED_FIELDS];
} vcardstructuredtype;

typedef struct vcardvalue_impl vcardvalue;

LIBICAL_VCARD_EXPORT void vcardvalue_set_x(vcardvalue *value, const char *v);
LIBICAL_VCARD_EXPORT vcardvalue *vcardvalue_new_x(const char *v);
LIBICAL_VCARD_EXPORT const char *vcardvalue_get_x(const vcardvalue *value);

LIBICAL_VCARD_EXPORT void vcardvalue_reset_kind(vcardvalue *value);

LIBICAL_VCARD_EXPORT vcardvalue *vcardvalue_new_structured(vcardstructuredtype *v);
LIBICAL_VCARD_EXPORT void vcardvalue_set_structured(vcardvalue *value,
                                                    vcardstructuredtype *v);
LIBICAL_VCARD_EXPORT vcardstructuredtype *vcardvalue_get_structured(const vcardvalue *value);

<insert_code_here>
